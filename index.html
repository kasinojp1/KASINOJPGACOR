<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Admin | KasinoJP</title>
  </head>
  <body>
    <h2>ğŸ§‘â€ğŸ’» Panel Admin KasinoJP</h2>

    <form id="postForm">
      <input type="text" id="title" placeholder="Judul posting" required /><br><br>
      <textarea id="content" placeholder="Isi posting..." required></textarea><br><br>
      <input type="text" id="imageUrl" placeholder="URL gambar (opsional)" /><br><br>
      <button type="submit">ğŸ“ Posting</button>
    </form>

    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.0/firebase-app.js";
      import { getDatabase, ref, push, set } from "https://www.gstatic.com/firebasejs/11.0.0/firebase-database.js";

      const firebaseConfig = {
        apiKey: "AIzaSyCvqbWpS1s_l72Fh8CLxO2jWFnEbSSIGSk",
        authDomain: "kasinojpwork.firebaseapp.com",
        databaseURL: "https://kasinojpwork-default-rtdb.firebaseio.com",
        projectId: "kasinojpwork",
        storageBucket: "kasinojpwork.firebasestorage.app",
        messagingSenderId: "291449017470",
        appId: "1:291449017470:web:14d6815edcd61f3618b42f",
        measurementId: "G-D648ETD7YD"
      };

      const app = initializeApp(firebaseConfig);
      const db = getDatabase(app);

      const form = document.getElementById("postForm");
      form.addEventListener("submit", async (e) => {
        e.preventDefault();

        const title = document.getElementById("title").value.trim();
        const content = document.getElementById("content").value.trim();
        const imageUrl = document.getElementById("imageUrl").value.trim();

        if (!title || !content) {
          alert("Judul dan isi wajib diisi!");
          return;
        }

        const newPostRef = push(ref(db, "posts"));
        await set(newPostRef, {
          title,
          content,
          imageUrl,
          timestamp: Date.now()
        });

        alert("âœ… Postingan berhasil disimpan!");
        form.reset();
      });
    </script>
  </body>
</html>
